let t="iso-8859-1",r="/resistenze.org",n="/sito2/re00dx.htm",a="450px",loadNumber=e=>{switch(e){case void 0:numberFilename=n;break;case"prev":e=--o,numberFilename=n.replace(/(\/re00dx)/g,"$1"+String(e).padStart(3,"0"));break;case"next":e=++o,numberFilename=n.replace(/(\/re00dx)/g,"$1"+String(e).padStart(3,"0"));break;default:o=e,numberFilename=n.replace(/(\/re00dx)/g,"$1"+String(e).padStart(3,"0"))}url=(s()?r:"")+numberFilename,fetch(url).then(e=>{if(e.ok)return e;throw new Error(numberFilename+": "+e.statusText)}).then(e=>e.arrayBuffer()).then(e=>new TextDecoder(t).decode(e)).then(e=>{var t,r=/<h5>(.*)<\/h5>/gi,n=/<a (.*)>(.*)<\/a>/gi,a=((matchNumber=/<h5>(.*)<\/h5>/gi.exec(e))&&(numberText=matchNumber[1],e=e.substring(matchNumber.index+matchNumber[0].length),document.getElementById("number").innerHTML=numberText,o=numberText.replace(/[^0-9]*/,"")||o),(matchDate=/<td.*>\s*(\d{2}-\d{2}-\d{2,4})\s*<\/td>/gi.exec(e))&&(dateText=matchDate[1],e=e.substring(matchDate.index+matchDate[0].length),document.getElementById("date").innerHTML=`<i>${m(dateText)}</i>`),[]);let s="";do{if(matchCategory=r.exec(e),!(matchNews=n.exec(e)))break;if(matchCategory&&matchCategory.index<matchNews.index)s=matchCategory[1],e=e.substring(matchCategory.index+matchCategory[0].length);else{if(!s){r.lastIndex=0;continue}newsAttr=matchNews[1],newsHref=(newsHref=/href="(.*)"/.exec(newsAttr))?newsHref[1]:"",newsTarget=(newsTarget=/target="(.*)"/.exec(newsAttr))?newsTarget[1]:"",newsText=matchNews[2],e=e.substring(matchNews.index+matchNews[0].length),a.push({category:{text:s},news:{text:newsText,href:newsHref,target:newsTarget}})}r.lastIndex=n.lastIndex=0}while(1);let i="",c="";for(t of a)i+=`
        <div class="news">
          <div>${t.category.text===c?"":t.category.text}</div>
          <div><a href="${t.news.href}" target="${t.news.target}">${t.news.text}</a></div>
        </div>
      `,c=t.category.text;document.getElementById("contents").innerHTML=i}).catch(e=>{console.error(e),document.getElementById("contents").innerHTML=`<div class="error">${e}</div>`})},m=e=>{var e=e.split("-"),t=parseInt(e[0]),r=parseInt(e[1]),e=parseInt(e[2]);return t+` ${["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"][r-1]} `+(e<100?2e3+e:e)},s=()=>"localhost"===location.hostname||"127.0.0.1"===location.hostname||""===location.hostname,toggleSidebar=()=>{var e=document.getElementsByClassName("sidebar")[0],t=""!=e.style.width;e.style.width=t?"":a},o=null;document.addEventListener("DOMContentLoaded",()=>loadNumber(),!1);